**Docker-compose** – это надстройка над докером, приложение, написанное на Python, которое позволяет запускать множество контейнеров одновременно и маршрутизировать потоки данных между ними.

***Наш плохой docker-compose файл***
```
  services:
  server:
    build: ./server/
    command: python ./server.py
    container_name: server
    ports:
      - "1234:1234"
    volumes:
      - ./server:/server
    environment:
      - DEBUG=True  

  client:
    build: ./client/
    container_name: client
    command: python ./client.py
    network_mode: host
    depends_on:
      - server
```

***bad practices***
1. ***Использование переменной окружения DEBUG***
   
   Она включается в режиме разработки и может показывать подробную информацию о внутренней структуре приложения, и если DEBUG случайно останется включенным в продакшн-среде, то это может привести к утечке важной секретной информации и раскрыть уязвимости приложения
    ```
     environment:
        - DEBUG=True  
    ```
    Исправление: заменяем переменную окружения на ENVIRONMENT=production
   ```
     environment:
        - ENVIRONMENT=production
   ```
    Теперь детальные ошибки, которые нужны только разработчикам, не будут выводится

2. ***network_mode: host***.
   
   Нарушает изоляцию, так как при настройке network_mode: host контейнер будет напрямую использовать сетевые настройки хоста, что приведет к конфликту портов.
   ```
   network_mode: host
   ```
   Исправление: убираем network_mode: host
   ```
   # Убрать параметр network_mode: host
   ```

3. ***Указание фиксированного имени контейнера***.
   
   В плохом файле используется фиксированные имена контенеров - это вызывет конфликты, если потребуется развернуть несколько экземпляров проэкта
   ```
   container_name: client
   container_name: server
   ```
   Исправление: убираем указание имени контейнера, чтобы docker сам создавал им уникальные имена
   ```
   # Убрать параметр container_name
   ```
   Теперь наш проект стал масштабируемым, так как каждый экземпляр получает уникальные имена контейнеров

***Задание 4***

Наш docker-compose файл:

  ![Снимок экрана 2024-12-01 194154](https://github.com/user-attachments/assets/5f6938e7-ed92-4f3c-83ba-57ce589a310b)

С помощью него сервера будут собираться так, чтобы контейнеры в рамках этого compose-проекта поднимались вместе, но не "видели" друг друга по сети.
Сборка: 

  ![Снимок экрана 2024-12-01 194340](https://github.com/user-attachments/assets/1722c475-e1ab-45e3-98aa-17721a67b444)
  
Запускаем:

  ![Снимок экрана 2024-12-01 194504](https://github.com/user-attachments/assets/546934c9-8e4a-4e6f-946d-90c2ae7c18f8)
  
Статусы:

  ![Снимок экрана 2024-12-01 191033](https://github.com/user-attachments/assets/13cacffe-e0e4-4838-8510-b622e2be0645)




